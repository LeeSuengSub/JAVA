## 내부 클래스

---

### 내부 클래스 요약

---

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(144).png>)

### 람다식(lambda expression)

---

- 자바에서 함수형 프로그래밍(functional programming)을 구현하는 방식
- 자바 8부터 지원
- 클래스를 생성하지 않고 함수의 호출만으로 기능을 수행
- 함수형 프로그래밍
  - 순수 함수(pure function)를 구현하고 호출함으로써 외부 자료에 부수적인 영향을 주지 않고 매개 변수만을 사용하도록 만든 함수
  - 함수를 기반으로 구현
  - 입력 받은 자룔르 기반으로 수행되고 외부에 영향을 미치지 않으므로 병렬처리등에 기능
  - 안정적인 확장성 있는 프로그래밍 방식

### 람다식 구현하기

---

- 익명 함수 만들기
- 매개 변수와 매개 변수를 활용한 실행문으로 구현{(매개변수) -> (실행문);}
- 두수를 입력받아 더하는 add()함수

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(145).png>)

- 함수 이름 반환 형을 없애고 -> 사용
- {} 까지 실행문을 의미

### 람다식 문법

---

- 매개변수(하나인 경우) 자료형과 괄호 생략하기

```
str -> {System.out.println(str);}
```

- 매개 변수가 두 개인 경우 괄호를 생략할 수 없음

```
x,y -> {System.out.println(x + y);} //잘못된 형식
```

- 중괄호 안의 구현부가 한 문장인 경우 중괄호 생략

```
str -> System.out.println(str);
```

- 중괄호 안의 구현부가 한 문장이라도 return문은 중괄호 생략할 수 없음

```
str -> return str.length(); //잘못된 표현
```

- 중괄호 안의 구현부가 반환문 하나라면 return과 중괄호 모두 생략

```
(x,y) -> x + y      //두 값을 더하여 반환함
str -> str.length() //문자열의 길이를 반환함
```

### 람다식 사용하기 예제

---

- 두 수중 더 큰 수를 반환하는 람다식 구현 활용
- 함수형 인터페이스 선언하기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(146).png>)

- 람다식 구현과 호출

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(147).png>)

### 함수형 인터페이스

---

- 람다식을 선언하기 위한 인터페이스
- 익명 함수와 매개 변수만으로 구현되므로 단 하나의 메소드만을 가져야함  
  (두 개 이상의 메소드인 경우 어떤 메소드의 호출인지 모호해 짐)
- @FunctionalInterface 애노테이션
  - 함수형 인터페이스라는 의미, 여러 개의 메소드를 선언하면 에러남

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(148).png>)

### 익명 객체를 생성하는 람다식

---

- 자바는 객체 지향언어로 객체를 생성해야 메소드가 호출됨
- 람다식으로 메소드를 구현하고 호출하면 내부에서 익명 클래스가 생성됨

```
StringConcat concat3 = new StringConcat(){
    @Override
    public void makeString(String s1, String s2){
        System.out.println(s1 + ","+ s2);
    }
};
```

- 람다식에서 외부 메소드의 지역변수는 상수로 처리됨  
   (지역 내부 클래스와 동일한 원리)

### 함수를 변수처럼 사용하는 람다식

---

- 프로그램에서 변수의 사용은...

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(149).png>)

- 인터페이스형 변수에 람다식 대입

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(150).png>)

- 매개변수로 전달하는 람다식

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(151).png>)

- 반환 값으로 쓰이는 람다식

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(152).png>)

### 스트림(stream)

---

- 자료의 대상과 관계 없이 동일한 연산을 수행
  - 배열,컬렉션을 대상으로 동일한 연산을 수행함
  - 일관성 있는 연산으로 자료의 처리를 쉽고 간단하게 함
- 한 번 생성하고 사용한 스트림은 재사용 할 수 없음
  - 자료에 대한 스트림을 생성하여 연산을 수행하면 스트림은 소모됨
  - 다른 연산을 위해서는 새로운 스트림을 생성함
- 스트림 연산은 기존 자료를 변경하지 않음
  - 자료에 대한 스트림을 생성하면 별도의 메모리 공간을 사용하므로 기존 자료를 변경하지 않음
- 스트림 연산은 중간 연산과 최종 연산으로 구분됨
  - 스트림에 대해 중간 연산은 여러 개 적용될 수 있지만 최종 연산은 마지막에 한 번만 적용됨
  - 최종연산이 호출되어야 중간연산의 결과가 모두 적용됨
  - 이를 '지연 연산'이라 함

### 스트림 연산 - 중산 연산

---

- 중산 연산 - filter(), map()
  - 조건에 맞는 요소를 추출(filter()) 하거나 요소를 변환 함(map())
- 문자열의 길이가 5이상인 요소만 출력하기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(153).png>)

- 고객 클래스에서 고객 이름만 가져오기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(154).png>)

### 스트림 생성하고 사용하기

---

- ArrayList에 스트림 생성하고 사용하기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(155).png>)

- 정수 배열에 스트림 생성하고 사용하기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(157).png>)

### reduce() 연산

---

- 정의된 연산이 아닌 프로그래머가 직접 지정하는 연산을 적용
- 최종 연산으로 스트림의 요소를 소모하며 연산 수행
- 배열의 모든 요소의 합을 구하는 reduce()연산

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(156).png>)

- 두번째 요소로 전달되는 람다식에 따라 다양한 기능을 수행

### reduce() 연산 예제

---

- 배열에 여러 문자열이 있을 때 길이가 가장 긴 문자열 찾기

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(158).png>)

![](<./%EC%82%AC%EC%A7%84_%EC%9E%90%EB%A3%8C/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7(159).png>)
